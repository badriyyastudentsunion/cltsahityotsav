<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSF Kozhikode South</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'custom-red': '#de0e17',
                        'custom-orange': '#f49624',
                        'custom-green': '#345524',
                        'custom-dark': '#251a1c',
                        'custom-blue': '#213a7f',
                        'custom-red-alt': '#de4b13',
                        'custom-pink': '#c72c6a',
                        'custom-purple': '#6a4c93',
                        'custom-teal': '#008080',
                        'custom-indigo': '#4b0082',
                        'custom-emerald': '#10b981',
                        'custom-violet': '#8b5cf6',
                        'custom-amber': '#f59e0b',
                    },
                    animation: {
                        'pulse-scale': 'pulse-scale 0.3s ease-in-out',
                        'bounce-in': 'bounce-in 0.3s ease-out',
                        'slide-up': 'slide-up 0.3s ease-out',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes pulse-scale {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }
        
        @keyframes bounce-in {
            0% { transform: scale(0.8) translateY(10px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }
        
        @keyframes slide-up {
            0% { transform: translateY(20px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .gradient-fadeout {
            position: relative;
            overflow: hidden;
        }
        
        .gradient-fadeout .stage-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 50%, transparent 100%);
            pointer-events: none;
        }
        
        .stage-image {
            position: relative;
        }

        /* Enhanced touch target sizes */
        .touch-friendly {
            min-height: 44px;
            min-width: 44px;
        }

        /* Custom scrollbar for webkit browsers */
        ::-webkit-scrollbar {
            width: 4px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 2px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 2px;
        }

        /* Improved shadow and depth */
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .card-shadow-hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Loading shimmer effect */
        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Improved button states - Fixed click scaling issue */
        .btn-active {
            transform: scale(0.98) !important;
            transition: transform 0.1s ease-in-out !important;
        }

        /* Fix for card image scaling issue */
        .card-container {
            transform-origin: center;
            transition: transform 0.3s ease-out;
        }

        .card-container:active {
            transform: scale(0.98);
        }

        /* Ensure images maintain aspect ratio */
        .stage-image img {
            object-fit: cover;
            width: 100%;
            height: 144px; /* Fixed height */
        }

        /* Safe area adjustments for modern phones */
        .safe-area-top {
            padding-top: env(safe-area-inset-top);
        }
        
        .safe-area-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* Sticky credit footer */
        .credit-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 40;
            padding-bottom: env(safe-area-inset-bottom);
        }
        
        /* Add padding to body to prevent content from being hidden behind footer */
        body {
            padding-bottom: 50px;
        }

        /* Enhanced heading styles */
        .main-heading {
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 0.05em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sub-heading {
            font-weight: 600;
            letter-spacing: 0.025em;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen safe-area-top safe-area-bottom" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
    
    <!-- Enhanced Header with better spacing -->
    <div class="w-full mb-6">
        <img src="header.svg" alt="Event Header" class="w-full h-auto object-cover rounded-b-lg shadow-sm">
    </div>

    <!-- Status Bar Spacer for iOS -->
    <div class="h-safe-top"></div>

    <!-- Main Container with improved spacing -->
    <div class="container mx-auto px-3 py-4 max-w-sm">
        
        <!-- Section Header -->
        <div class="mb-6 text-center">
            <h2 class="main-heading text-gray-800 mb-2">STAGES</h2>
            <p class="text-gray-600 text-sm sub-heading">TAP ANY STAGE TO GET DIRECTIONS</p>
        </div>

        <!-- Main Stages Section with improved animations -->
        <div class="mb-8">
            <div class="space-y-4">
                <!-- Stage 1 - SAPIANAURA -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/ZvG6wG1CXo6s8T2q8', 'SAPIANAURA')" 
                     style="border-left: 4px solid #de0e17; animation-delay: 0.1s;">
                    <div class="stage-image">
                        <img src="stage1.png" alt="Stage 1 - SAPIANAURA" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #de0e17;">
                            STAGE 1
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">SAPIANAURA</h3>
                            <p class="text-xs opacity-90">Main Performance Stage</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #de0e17;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stage 2 - MASTERPIECE -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/hGHns4DBRkhfEddj9', 'MASTERPIECE')" 
                     style="border-left: 4px solid #f49624; animation-delay: 0.2s;">
                    <div class="stage-image">
                        <img src="stage2.png" alt="Stage 2 - MASTERPIECE" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #f49624;">
                            STAGE 2
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">MASTERPIECE</h3>
                            <p class="text-xs opacity-90">Creative Arts Stage</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #f49624;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stage 3 - PAPPER KITE -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/EVTtxf2TVSDZHGZT8', 'PAPPER KITE')" 
                     style="border-left: 4px solid #6a4c93; animation-delay: 0.3s;">
                    <div class="stage-image">
                        <img src="stage3.png" alt="Stage 3 - PAPPER KITE" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #6a4c93;">
                            STAGE 3
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">PAPPER KITE</h3>
                            <p class="text-xs opacity-90">Outdoor Performance</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #6a4c93;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stage 4 - MISERANOVA -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/rdajxqeb7gxdso5a9', 'MISERANOVA')" 
                     style="border-left: 4px solid #008080; animation-delay: 0.4s;">
                    <div class="stage-image">
                        <img src="stage4.png" alt="Stage 4 - MISERANOVA" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #008080;">
                            STAGE 4
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">MISERANOVA</h3>
                            <p class="text-xs opacity-90">Cultural Events</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #008080;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stages 5,6,7 - KHARKIVE FREEDOM SQUARE -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/i8Y8erTssZe1yGpM7', 'KHARKIVE FREEDOM SQUARE (5-7)')" 
                     style="border-left: 4px solid #4b0082; animation-delay: 0.5s;">
                    <div class="stage-image">
                        <img src="stage5.png" alt="Stages 5,6,7 - KHARKIVE FREEDOM SQUARE" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #4b0082;">
                            STAGES 5-7
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">KHARKIVE FREEDOM SQUARE</h3>
                            <p class="text-xs opacity-90">Multiple Performance Areas</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #4b0082;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stages 8,9,10 - KHARKIVE FREEDOM SQUARE -->
                <div class="card-container bg-white rounded-xl card-shadow overflow-hidden transform transition-all duration-300 hover:card-shadow-hover gradient-fadeout touch-friendly animate-bounce-in" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/PKpe918CR92PLdg36', 'KHARKIVE FREEDOM SQUARE (8-10)')" 
                     style="border-left: 4px solid #de4b13; animation-delay: 0.6s;">
                    <div class="stage-image">
                        <img src="stage6.png" alt="Stages 8,9,10 - KHARKIVE FREEDOM SQUARE" class="w-full h-36 object-cover" loading="lazy">
                        <div class="absolute top-3 right-3 text-white px-3 py-1 rounded-full text-xs font-bold z-10 shadow-lg" style="background-color: #de4b13;">
                            STAGES 8-10
                        </div>
                        <div class="absolute bottom-3 left-3 text-white z-10">
                            <h3 class="font-bold text-lg drop-shadow-lg">KHARKIVE FREEDOM SQUARE</h3>
                            <p class="text-xs opacity-90">Extended Performance Zone</p>
                        </div>
                    </div>
                    <div class="p-4 bg-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm" style="color: #de4b13;">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span class="font-medium">Get Directions</span>
                            </div>
                            <div class="flex items-center text-gray-400">
                                <i class="fas fa-external-link-alt text-xs"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section Header for Facilities -->
        <div class="mb-6 text-center">
            <h2 class="main-heading text-gray-800 mb-2">FACILITIES</h2>
        </div>

        <!-- Enhanced Facilities Section -->
        <div class="mb-6">
            <div class="grid grid-cols-2 gap-3">
                <!-- Career Gala -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.google.com/?q=11.368227,75.864182', 'Career Gala')" 
                     style="border-top: 3px solid #de0e17; animation-delay: 0.1s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">CAREER GALA</h3>
                    <p class="text-gray-500 text-xs">Professional networking</p>
                </div>

                <!-- Literary Camp -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/LUER82ewxXWtsC6b9', 'Literary Camp')" 
                     style="border-top: 3px solid #f49624; animation-delay: 0.2s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">LITERARY CAMP</h3>
                    <p class="text-gray-500 text-xs">Reading & discussion</p>
                </div>

                <!-- Food Court -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/iNt9icamwSr2NNbw8', 'Food Court')" 
                     style="border-top: 3px solid #6a4c93; animation-delay: 0.3s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">FOOD COURT</h3>
                    <p class="text-gray-500 text-xs">Dining & refreshments</p>
                </div>

                <!-- Cloakroom -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/T5fyscx6RUMXeF7ZA', 'Cloakroom')" 
                     style="border-top: 3px solid #008080; animation-delay: 0.4s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-archive"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">CLOAKROOM</h3>
                    <p class="text-gray-500 text-xs">Secure storage</p>
                </div>

                <!-- Masjid -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/HncttuAuun52c3b58?g_st=aw', 'Masjid')" 
                     style="border-top: 3px solid #4b0082; animation-delay: 0.5s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-mosque"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">MASJID</h3>
                    <p class="text-gray-500 text-xs">Prayer facility</p>
                </div>

                <!-- Reception Committee Office -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/KYZDqAK3HbSNe8TP8', 'Reception Office')" 
                     style="border-top: 3px solid #de4b13; animation-delay: 0.6s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">RECEPTION OFFICE</h3>
                    <p class="text-gray-500 text-xs">Information desk</p>
                </div>

                <!-- Open Stage -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.google.com/?q=11.368227,75.864182
', 'Open Stage')" 
                     style="border-top: 3px solid #10b981; animation-delay: 0.7s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-music"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">OPEN STAGE</h3>
                    <p class="text-gray-500 text-xs">Live performances</p>
                </div>

                <!-- Book Fair -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/rLWuEcnTdHQ4m6u29', 'Book Fair')" 
                     style="border-top: 3px solid #8b5cf6; animation-delay: 0.8s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">BOOK FAIR</h3>
                    <p class="text-gray-500 text-xs">Literature showcase</p>
                </div>

                <!-- Award Point -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/EccTKzcmbuWRizcA9', 'Award Point')" 
                     style="border-top: 3px solid #f59e0b; animation-delay: 0.9s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">AWARD POINT</h3>
                    <p class="text-gray-500 text-xs">Recognition center</p>
                </div>

                <!-- Bus Stand -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/yKVvT2qfU3FqH9YK6?g_st=aw', 'Bus Stand')" 
                     style="border-top: 3px solid #c72c6a; animation-delay: 1.0s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-bus"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">BUS STAND</h3>
                    <p class="text-gray-500 text-xs">Public transport</p>
                </div>

                <!-- Parking -->
                <div class="card-container bg-white rounded-xl card-shadow p-4 text-center transform transition-all duration-300 hover:card-shadow-hover touch-friendly animate-slide-up" 
                     onclick="handleLocationClick('https://maps.app.goo.gl/tkqC8Jfiz6u6F9H47', 'Parking')" 
                     style="border-top: 3px solid #345524; animation-delay: 1.1s;">
                    <div class="text-3xl mb-3 text-gray-600">
                        <i class="fas fa-parking"></i>
                    </div>
                    <h3 class="font-semibold text-gray-800 text-sm mb-1">PARKING</h3>
                    <p class="text-gray-500 text-xs">Vehicle parking</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Credit Footer - Fixed at bottom -->
    <div class="credit-footer bg-gradient-to-r from-gray-800 to-gray-900 shadow-lg">
        <div class="px-4 py-3">
            <div class="text-center">
                <p class="text-white text-xs font-medium">
                    <i class="fas fa-code mr-1 text-blue-400"></i>
                    Developed by Badriyya Students' Union
                </p>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 flex items-center">
            <i class="fas fa-spinner fa-spin text-blue-500 mr-3"></i>
            <span class="text-gray-700">Opening maps...</span>
        </div>
    </div>

    <script>
        // Enhanced haptic feedback support
        function triggerHapticFeedback(intensity = 'medium') {
            if ('vibrate' in navigator) {
                switch(intensity) {
                    case 'light':
                        navigator.vibrate(10);
                        break;
                    case 'medium':
                        navigator.vibrate(20);
                        break;
                    case 'heavy':
                        navigator.vibrate([30, 10, 30]);
                        break;
                    default:
                        navigator.vibrate(20);
                }
            }
            
            // For iOS devices with haptic feedback API
            if (window.DeviceMotionEvent && typeof DeviceMotionEvent.requestPermission === 'function') {
                // iOS 13+ haptic feedback
                try {
                    if (window.AudioContext) {
                        // Create subtle audio feedback as alternative
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.value = intensity === 'heavy' ? 200 : 400;
                        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.1);
                    }
                } catch(e) {
                    // Fallback to vibration
                    navigator.vibrate && navigator.vibrate(20);
                }
            }
        }

        // Enhanced location click handler with proper cleanup
        function handleLocationClick(location, locationName) {
            // Trigger haptic feedback
            triggerHapticFeedback('medium');
            
            const clickedElement = event.target.closest('.card-container');
            
            // Visual feedback with proper cleanup
            if (clickedElement) {
                clickedElement.classList.add('btn-active');
                
                // Clean up after animation
                setTimeout(() => {
                    if (clickedElement) {
                        clickedElement.classList.remove('btn-active');
                        // Reset any inline styles that might persist
                        clickedElement.style.transform = '';
                    }
                }, 200);
            }
            
            // Show loading state
            showLoading();
            
            // Analytics tracking (if you have analytics)
            if (typeof gtag !== 'undefined') {
                gtag('event', 'location_click', {
                    'location_name': locationName,
                    'location_url': location
                });
            }
            
            // Open location with delay for feedback
            setTimeout(() => {
                hideLoading();
                openGoogleMaps(location);
            }, 300);
        }

        function openGoogleMaps(location) {
            try {
                if (location.startsWith('https://')) {
                    window.open(location, '_blank');
                } else {
                    const encodedLocation = encodeURIComponent(location);
                    const googleMapsUrl = `https://www.google.com/maps/search/${encodedLocation}`;
                    window.open(googleMapsUrl, '_blank');
                }
            } catch (error) {
                console.error('Error opening maps:', error);
                // Fallback notification
                showNotification('Unable to open maps. Please try again.');
            }
        }

        function showLoading() {
            document.getElementById('loadingOverlay').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        function showNotification(message) {
            // Create temporary notification
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 left-4 right-4 bg-red-500 text-white p-3 rounded-lg z-50 text-center';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Enhanced touch interactions with proper cleanup
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card-container');
            
            cards.forEach(card => {
                // Touch start
                card.addEventListener('touchstart', function(e) {
                    this.style.transform = 'scale(0.98)';
                    this.style.transition = 'transform 0.1s ease-in-out';
                    triggerHapticFeedback('light');
                }, { passive: true });
                
                // Touch end - proper cleanup
                card.addEventListener('touchend', function(e) {
                    this.style.transform = '';
                    this.style.transition = 'transform 0.3s ease-out';
                }, { passive: true });
                
                // Touch cancel - proper cleanup
                card.addEventListener('touchcancel', function(e) {
                    this.style.transform = '';
                    this.style.transition = 'transform 0.3s ease-out';
                }, { passive: true });
                
                // Mouse events for desktop testing
                card.addEventListener('mousedown', function(e) {
                    this.style.transform = 'scale(0.98)';
                });
                
                card.addEventListener('mouseup', function(e) {
                    this.style.transform = '';
                });
                
                card.addEventListener('mouseleave', function(e) {
                    this.style.transform = '';
                });
            });
            
            // Intersection Observer for entrance animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observe all cards for entrance animations
            cards.forEach(card => {
                observer.observe(card);
            });
        });

        // Page visibility API to reset styles when returning from maps
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                // Reset all transforms when page becomes visible again
                const cards = document.querySelectorAll('.card-container');
                cards.forEach(card => {
                    card.style.transform = '';
                    card.classList.remove('btn-active');
                });
            }
        });

        // Optimize for different screen sizes
        function adjustForScreenSize() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }

        window.addEventListener('resize', adjustForScreenSize);
        window.addEventListener('orientationchange', adjustForScreenSize);
        adjustForScreenSize();

        // Prevent zoom on double tap for better UX
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Service Worker registration for offline capability (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful');
                }, function(err) {
                    console.log('ServiceWorker registration failed');
                });
            });
        }
    </script>
</body>
</html>
